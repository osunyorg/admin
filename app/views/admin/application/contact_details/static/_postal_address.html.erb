<%
depth ||= 1
indentation = '  ' * depth
l10n ||= nil
language ||= about.language
address_formatter = Osuny::AddressFormatter.new(about: about, l10n: l10n, language: language)
present = address_formatter.present?
should_show = is_information_public?(about, :address)
%>
<% if present && should_show %>
<%= indentation %>postal_address:
<%= indentation %>  data:
<%= osuny_static_text 'address_name', address_formatter.address_name, depth: depth+3 %>
<%= osuny_static_text 'address', address_formatter.address, depth: depth+3 %>
<%= osuny_static_text 'address_additional', address_formatter.address_additional, depth: depth+3 %>
<%= osuny_static_text 'zipcode', address_formatter.zipcode, depth: depth+3 %>
<%= osuny_static_text 'city', address_formatter.city, depth: depth+3 %>
<% if address_formatter.country? %>
<%= indentation %>    country:
<%= osuny_static_text 'name', address_formatter.country, depth: depth+4 %>
<%= osuny_static_text 'alpha2', address_formatter.country_alpha2, depth: depth+4 %>
<%= osuny_static_text 'alpha3', address_formatter.country_alpha3, depth: depth+4 %>
<% end %>
<% if about.respond_to?(:latitude) %>
<%= indentation %>  geolocation:
<%= indentation %>    latitude: <%= about.latitude %>
<%= indentation %>    longitude: <%= about.longitude %>
<% end %>
<%= indentation %>  text: >-
<%= indentation %>    <%= prepare_text_for_static address_formatter.to_s %>
<%= indentation %>  html: >-
<%= indentation %>    <%= address_formatter.to_html.html_safe %>
<% end %>